
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Connections Game</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>Connections</h1>
        <div id="game-board" class="game-board"></div>
        <div class="controls">
            <p>Guesses Left: <span id="lives-counter">4</span></p>
            <button id="submit-btn" disabled>Submit</button>
        </div>
        <div id="message-area"></div>
    </div>
    <script src="script.js"></script>
</body>
</html>

<style>
body {
    font-family: Arial, sans-serif;
    background-color: #e0e0e0;
    text-align: center;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    margin: 0;
}

.container {
    width: 600px;
    background-color: #fff;
    padding: 20px;
    border-radius: 10px;
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
}

.game-board {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 10px;
    margin-bottom: 20px;
}

.word {
    padding: 15px;
    background-color: #f0f0f0;
    border: 1px solid #ccc;
    border-radius: 5px;
    cursor: pointer;
    user-select: none;
    transition: background-color 0.3s;
}

.word:hover {
    background-color: #e9e9e9;
}

.word.selected {
    background-color: #5a5a5a;
    color: #fff;
}

.word.correct {
    background-color: #4CAF50; /* Green for correct answers */
    color: #fff;
    cursor: default;
}

.controls {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-top: 20px;
}

button {
    padding: 10px 20px;
    background-color: #007bff;
    color: #fff;
    border: none;
    border-radius: 5px;
    cursor: pointer;
}

button:disabled {
    background-color: #ccc;
    cursor: not-allowed;
}

#message-area {
    margin-top: 15px;
    color: red;
    font-weight: bold;
}
</style>
<script type="text/javascript">
document.addEventListener('DOMContentLoaded', () => {
    const gameBoard = document.getElementById('game-board');
    const submitBtn = document.getElementById('submit-btn');
    const livesCounter = document.getElementById('lives-counter');
    const messageArea = document.getElementById('message-area');

    const puzzles = [
        {
            category: "FOUR-LEGGED ANIMALS",
            words: ["DOG", "CAT", "HORSE", "ZEBRA"],
            difficulty: "easy"
        },
        {
            category: "TYPES OF FRUIT",
            words: ["APPLE", "BANANA", "ORANGE", "GRAPE"],
            difficulty: "easy"
        },
        {
            category: "MUSICAL INSTRUMENTS",
            words: ["GUITAR", "DRUMS", "PIANO", "FLUTE"],
            difficulty: "medium"
        },
        {
            category: "PLANETS OF THE SOLAR SYSTEM",
            words: ["MARS", "JUPITER", "SATURN", "NEPTUNE"],
            difficulty: "hard"
        }
    ];

    let currentWords = [];
    let selectedWords = [];
    let lives = 4;
    let groupsFound = 0;

    function initializeGame() {
        // Combine all words and shuffle them
        puzzles.forEach(puzzle => {
            currentWords.push(...puzzle.words);
        });
        shuffleArray(currentWords);
        renderBoard();
        updateLives();
    }

    function shuffleArray(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
    }

    function renderBoard() {
        gameBoard.innerHTML = '';
        currentWords.forEach(wordText => {
            const wordDiv = document.createElement('div');
            wordDiv.classList.add('word');
            wordDiv.textContent = wordText;
            wordDiv.addEventListener('click', () => selectWord(wordDiv, wordText));
            gameBoard.appendChild(wordDiv);
        });
    }

    function selectWord(wordDiv, wordText) {
        if (wordDiv.classList.contains('correct')) return;

        if (selectedWords.includes(wordText)) {
            selectedWords = selectedWords.filter(word => word !== wordText);
            wordDiv.classList.remove('selected');
        } else if (selectedWords.length < 4) {
            selectedWords.push(wordText);
            wordDiv.classList.add('selected');
        }
        submitBtn.disabled = selectedWords.length !== 4;
    }

    submitBtn.addEventListener('click', handleSubmit);

    function handleSubmit() {
        if (selectedWords.length !== 4) return;

        // Check if the selected words form a valid group
        const foundGroup = puzzles.find(puzzle => 
            puzzle.words.every(word => selectedWords.includes(word)) && 
            selectedWords.every(word => puzzle.words.includes(word))
        );

        if (foundGroup) {
            handleCorrect(foundGroup);
        } else {
            handleIncorrect();
        }
    }

    function handleCorrect(group) {
        groupsFound++;
        messageArea.textContent = `Correct! Category: ${group.category}`;
        
        // Mark the correct words on the board
        const wordDivs = document.querySelectorAll('.word');
        wordDivs.forEach(div => {
            if (group.words.includes(div.textContent)) {
                div.classList.remove('selected');
                div.classList.add('correct');
                div.removeEventListener('click', selectWord); // Prevent further interaction
            }
        });

        // Remove the words from currentWords list and re-render board (optional, if you want found groups to disappear)
        // currentWords = currentWords.filter(word => !group.words.includes(word));
        // renderBoard();

        selectedWords = [];
        submitBtn.disabled = true;

        if (groupsFound === puzzles.length) {
            gameOver(true);
        }
    }

    function handleIncorrect() {
        lives--;
        updateLives();
        messageArea.textContent = 'Incorrect guess. Try again!';
        
        if (lives === 0) {
            gameOver(false);
        }
    }

    function updateLives() {
        livesCounter.textContent = lives;
    }

    function gameOver(isWin) {
        submitBtn.disabled = true;
        const gameOverMessage = isWin ? 'Congratulations! You won!' : 'Game Over! You ran out of lives.';
        messageArea.textContent = gameOverMessage;
        // Disable all words
        document.querySelectorAll('.word').forEach(div => {
            div.removeEventListener('click', selectWord);
            div.style.cursor = 'default';
        });
    }

    initializeGame();
});
</script>
